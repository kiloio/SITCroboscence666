# 零阶段

## 目标

1. 了解基本概念
2. 安装 RDK X3 Pi 镜像
3. 通过VSCode中的SSH连接到 RDK X3 Pi

## 参考链接

[OriginBot智能机器人开源套件](http://originbot.org/)

[旭日X3派用户手册](https://developer.horizon.ai:8005/api/v1/fileData/documents_pi/index.html)

[D-Robotics RDK套件](https://d-robotics.github.io/rdk_doc/RDK)

[VSCode](https://code.visualstudio.com/)

## 你需要了解的东西（如果没概念，看一下）

**[十分钟入门Linux系统【零基础】](https://www.bilibili.com/video/BV1eh4y1U7TR/)**

**[串口通讯的工作原理是什么?浅析串口协议的三层结构](https://www.bilibili.com/video/BV1aB2mYLEfo/)**

**[什么是网络？网卡和交换机是如何工作的？](https://www.bilibili.com/video/BV1NCwQepESz/)**

**[VSCode 教程](https://www.runoob.com/vscode/vscode-tutorial.html)**

**[VSCode配置 SSH连接远程服务器+免密连接教程](https://zhuanlan.zhihu.com/p/667236864?s_r=0)**
ps.看**一、远程连接过程**即可，跳过免密连接

## 从零开始，需要做什么

如果你拿到的是散装套件，你需要完成以下步骤

1. 跟着[套件组装](http://originbot.org/guide/hardware_setup.html)或箱内说明书完成组装
2. 烧录系统镜像
3. 安装控制器固件

一般来说，你拿到的因该是成车，可跳过以上三步

## 连接到小车

连接到小车分为有线与无线。有线连接又分为串口连接与网线连接

下面，我们来用串口连接到车辆

### 串口连接

#### 前置条件

1. 确保车内有tf卡，并安装好镜像（若已有镜像，无需重复安装）
2. 安装MoboXterm软件
3. 安装对应的串口驱动（默认CP210x，若使用其他驱动，则安装其他所对应的）
4. 在连接前，确保RDK X3连接电源

[MobaXterm下载](https://mobaxterm.mobatek.net/download-home-edition.html)
ps. 点绿的按钮下载

[CP210x串口驱动下载](https://www.silabs.com/software-and-tools/usb-to-uart-bridge-vcp-drivers?tab=downloads)
ps. 选择Software下的**CP210x Universal Windows Driver**

#### 连接

根据下图，连接RDK X3与USB转串口
![alt text](./../images/串口连接接线方法.jpg)

连接之后，大家可以启动MoboXterm软件进行连接，需要如下图所示进行设置：
![alt text](./../images/MoboXterm软件串口设置.png)

设置成功后点击OK，即可进入系统界面，如果已经开机则不会显示LOG信息，如果线连接再进行开机则会出现开机LOG信息，输入账号密码后即可进行操作界面：
![alt text](./../images/MoboXterm终端界面.png)


账号密码均为root。在输入密码时，不显示是正常的。

### 小车联网

通过串口连接到小车后，在小车的终端内输入
```
sudo nmcli device wifi rescan        # 扫描wifi网络
sudo nmcli device wifi list          # 列出找到的wifi网络
sudo wifi_connect "SSID" "PASSWD"    # 连接某指定的wifi网络
```
ps. 在输入以上句子时，一句一句输。不要输注释里的

通过以下指令，来查看当前ip
```
ip a
```

连接到网络后，里面因该会有大约5个地址，实际有用的只有两个。分别为有线的ip和无线的ip。有线的ip一般为192.168.1.10或192.168.127.10（以实际为准），无线一般以10或192开头（以实际为准）。

记住这两个ip，未来有用。

### 无线连接

可通过本地终端或VSCode进行连接

#### 终端连接方法
将电脑与小车连接到同一WiFi下

在本地电脑的CMD或PowerShell中输入
```
ping ip
```
ip是ip地址，在前面，我们通过在小车终端输入```ip a```来查看了小车的ip地址，这边我们输入之前记的无线ip地址
以上命令的作用是用于确认因特网上的一台主机是否可达

确认能ping通后，输入
```
ssh user@ip
```
user是用户，一般是root

第一次连接，可能会提示什么东西，输入yes即可。稍作等待，便可进入小车终端